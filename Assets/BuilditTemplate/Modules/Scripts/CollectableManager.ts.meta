fileFormatVersion: 2
guid: 587b45bf52384966909a98d5f7ec1f09
importerOverride:
  nativeImporterType: 2089858483
  scriptedImporterType:
    serializedVersion: 2
    Hash: 89072204048b7087d871d10c191cb608
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst __UnityEngine__ = require(\\\"UnityEngine\\\");\\r\\nconst
    ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst InteractionIcon_1
    = require(\\\"./../Interaction/ZepetoScript/InteractionIcon\\\");\\r\\nconst
    UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst ZEPETO_Module_Event_1
    = require(\\\"ZEPETO.Module.Event\\\");\\r\\nconst Chest_1 = require(\\\"./Chest\\\");\\r\\nconst
    ZEPETO_World_Gui_1 = require(\\\"ZEPETO.World.Gui\\\");\\r\\nclass CollectableManager
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor() {\\r\\n       
    super(...arguments);\\r\\n        this._isCollected = false;\\r\\n    }\\r\\n   
    Start() {\\r\\n        this.button = this.GetComponent($typeof(InteractionIcon_1.default));\\r\\n       
    this.collectable = this.GetComponent($typeof(ZEPETO_Module_Event_1.CurrencyEventCollectableObject));\\r\\n       
    this.activator = this.chest.GetComponent($typeof(Chest_1.default));\\r\\n       
    this.button.OnClickEvent.AddListener(() => {\\r\\n            this.Collect();\\r\\n       
    });\\r\\n    }\\r\\n    Collect() {\\r\\n        if (CollectableManager._isCollecting
    || this._isCollected)\\r\\n            return;\\r\\n        CollectableManager._isCollecting
    = true;\\r\\n        this.button.HideIcon();\\r\\n        this.button.enabled
    = false;\\r\\n        ZEPETO_Module_Event_1.EventAPI.TryCollect((eventName, currencyType,
    amount) => {\\r\\n            this._isCollected = true;\\r\\n            CollectableManager._isCollecting
    = false;\\r\\n            this.StartCoroutine(this.OnEventSuccess());\\r\\n       
    }, (errorCode, errorMsg) => {\\r\\n            if (errorCode == 0) {\\r\\n               
    // Set disabled\\r\\n                this.activator.isOpen = true;\\r\\n               
    this.sparkle.SetActive(false);\\r\\n                this.chest.GetComponent($typeof(Chest_1.default))?.gold.gameObject.SetActive(false);\\r\\n               
    this.StartCoroutine(this.RemovePopup());\\r\\n                return;\\r\\n           
    }\\r\\n            this._isCollected = false;\\r\\n            CollectableManager._isCollecting
    = false;\\r\\n            this.button.enabled = true;\\r\\n        });\\r\\n   
    }\\r\\n    *OnEventSuccess() {\\r\\n        yield new UnityEngine_1.WaitForEndOfFrame();\\r\\n       
    this.activator.isOpen = true;\\r\\n        yield new UnityEngine_1.WaitForSeconds(1);\\r\\n       
    this.sparkle.SetActive(false);\\r\\n    }\\r\\n    // Temporary override\\r\\n   
    *RemovePopup() {\\r\\n        var ittr = 10;\\r\\n        var pop = null;\\r\\n       
    while (__UnityEngine__.Object.op_Equality((pop = UnityEngine_1.GameObject.Find(\\\"PopupCommon(Clone)\\\")),
    null) && ittr > 0) {\\r\\n            ittr--;\\r\\n            yield new UnityEngine_1.WaitForEndOfFrame();\\r\\n       
    }\\r\\n        let popup = pop.GetComponent($typeof(ZEPETO_World_Gui_1.PopupCommon));\\r\\n       
    let builder = new ZEPETO_World_Gui_1.PopupCommonBuilder();\\r\\n        builder.SetBody(this.GetLocalizedMessage());\\r\\n       
    builder.SetOneButton(\\\"OK\\\", () => { popup?.Close(null); });\\r\\n       
    popup.Initialize(builder);\\r\\n    }\\r\\n    // \\r\\n    GetLocalizedMessage()
    {\\r\\n        switch (UnityEngine_1.Application.systemLanguage) {\\r\\n           
    case UnityEngine_1.SystemLanguage.Korean:\\r\\n                return \\\"\uC774\uBBF8
    \uC774\uBCA4\uD2B8 \uBCF4\uC0C1\uC744 \uCD5C\uB300 \uC218\uB7C9 \uB9CC\uD07C
    \uD68D\uB4DD\uD558\uC600\uB124\uC694!\\\";\\r\\n                break;\\r\\n           
    case UnityEngine_1.SystemLanguage.Japanese:\\r\\n                return \\\"\u304A\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307E\u3059\uFF01\u3059\u3067\u306B\u30A4\u30D9\u30F3\u30C8\u306E\u5831\u916C\u3092\u6700\u5927\u6570\u307E\u3067\u7372\u5F97\u3057\u3066\u3044\u307E\u3059\u306D\uFF01\\\";\\r\\n               
    break;\\r\\n            case UnityEngine_1.SystemLanguage.Chinese:\\r\\n           
    case UnityEngine_1.SystemLanguage.ChineseSimplified:\\r\\n                return
    \\\"\u4F60\u5DF2\u7ECF\u83B7\u5F97\u4E86\u6D3B\u52A8\u4E2D\u53EF\u9886\u53D6\u7684\u5168\u90E8\u5956\u52B1\u5566\uFF01\\\";\\r\\n               
    break;\\r\\n            case UnityEngine_1.SystemLanguage.Thai:\\r\\n               
    return \\\"\u0E2A\u0E38\u0E14\u0E22\u0E2D\u0E14\u0E40\u0E25\u0E22! \u0E04\u0E38\u0E13\u0E44\u0E14\u0E49\u0E23\u0E32\u0E07\u0E27\u0E31\u0E25\u0E2A\u0E39\u0E07\u0E2A\u0E38\u0E14\u0E08\u0E32\u0E01\u0E01\u0E34\u0E08\u0E01\u0E23\u0E23\u0E21
    \u0E41\u0E25\u0E49\u0E27!\\\";\\r\\n                break;\\r\\n            case
    UnityEngine_1.SystemLanguage.Indonesian:\\r\\n                return \\\"Kamu
    udah dapetin semua hadiah maksimal dari event !\\\";\\r\\n                break;\\r\\n           
    case UnityEngine_1.SystemLanguage.French:\\r\\n                return \\\"T\u2019as
    d\xE9j\xE0 atteint le max de r\xE9compenses pour l\u2019\xE9v\xE9nement !\\\";\\r\\n               
    break;\\r\\n            case UnityEngine_1.SystemLanguage.English:\\r\\n           
    default:\\r\\n                return \\\"You\u2019ve already hit the max rewards
    for the event!\\\";\\r\\n                break;\\r\\n        }\\r\\n    }\\r\\n}\\r\\nexports.default
    = CollectableManager;\\r\\nCollectableManager._isCollecting = false;\\r\\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sbGVjdGFibGVNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ29sbGVjdGFibGVNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLGlEQUFxRDtBQUNyRCxtRkFBNEU7QUFDNUUsNkNBQWtIO0FBRWxILDZEQUE2RjtBQUM3RixtQ0FBNEI7QUFDNUIsdURBQWlFO0FBR2pFLE1BQXFCLGtCQUFtQixTQUFRLHFDQUFxQjtJQUFyRTs7UUFPWSxpQkFBWSxHQUFZLEtBQUssQ0FBQztJQW9IMUMsQ0FBQztJQTNHVyxLQUFLO1FBRVQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxTQUFDLHlCQUFlLEVBQUcsQ0FBQztRQUNuRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLFNBQUMsb0RBQThCLEVBQUcsQ0FBQztRQUN2RSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxTQUFDLGVBQUssRUFBRyxDQUFDO1FBRWxELElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDdEMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ25CLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLE9BQU87UUFDWCxJQUFJLGtCQUFrQixDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFFbEUsa0JBQWtCLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUN4QyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUU1Qiw4QkFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQWlCLEVBQUUsWUFBMEIsRUFBRSxNQUFjLEVBQUUsRUFBRTtZQUU5RSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztZQUN6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\",\"assetPath\":\"Assets/BuilditTemplate/Modules/Scripts/CollectableManager.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"sparkle\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"chest\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]}],\"name\":\"CollectableManager\",\"description\":\"\",\"hasAnimatorMove\":false},\"isCompiled\":true}"
  typescriptHash: 971343003a487810a4789aacd3baf65f
  onlyWriteTrigger: 0
