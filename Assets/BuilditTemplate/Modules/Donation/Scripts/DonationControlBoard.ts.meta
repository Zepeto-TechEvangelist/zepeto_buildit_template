fileFormatVersion: 2
guid: 88f8fec39ac64195afc6d03df2a804d7
importerOverride:
  nativeImporterType: 2089858483
  scriptedImporterType:
    serializedVersion: 2
    Hash: 89072204048b7087d871d10c191cb608
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nexports.BoardState = void 0;\r\nconst ZEPETO_Script_1 =
    require(\"ZEPETO.Script\");\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    DonationManager_1 = require(\"./DonationManager\");\r\nconst DonationBoardContentItem_1
    = require(\"./DonationBoardContentItem\");\r\nconst UIPopup_1 = require(\"../../UI/Scripts/UIPopup\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\n// Error handling\r\nconst
    ZEPETO_World_Gui_1 = require(\"ZEPETO.World.Gui\");\r\nconst ZEPETO_World_Gui_ZepetoToast_1
    = require(\"ZEPETO.World.Gui.ZepetoToast\");\r\nvar BoardState;\r\n(function
    (BoardState) {\r\n    BoardState[BoardState[\"Display\"] = 0] = \"Display\";\r\n   
    BoardState[BoardState[\"Edit\"] = 1] = \"Edit\";\r\n})(BoardState = exports.BoardState
    || (exports.BoardState = {}));\r\n/**\r\n * Controller used for donation objects,\r\n
    */\r\nclass DonationControlBoard extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state
    = BoardState.Display;\r\n        this.items = [];\r\n    }\r\n    StartEdit()
    { }\r\n    StopEdit() { }\r\n    SaveChanges() { }\r\n    DiscardChanges() {
    }\r\n    Show() {\r\n        if (this.state == BoardState.Edit)\r\n           
    return;\r\n        this.state = BoardState.Edit;\r\n        this.UpdateState();\r\n   
    }\r\n    Hide() {\r\n        // Hide Header + Footer\r\n    }\r\n    Start()
    {\r\n        DonationManager_1.default.instance.board = this;\r\n        this.popup
    = this.GetComponentInChildren($typeof(UIPopup_1.default));\r\n        this.gridLayout
    = this.popup.content.GetComponent($typeof(UnityEngine_UI_1.GridLayoutGroup));\r\n       
    // Hide the row prefab\r\n        this.itemPrefab.SetActive(false);\r\n       
    // Disable default handlers\r\n        this.popup.cancelButton.OnClick.RemoveAllListeners();\r\n       
    this.popup.cancelButton.OnClick.AddListener(() => {\r\n            this.items.forEach(x
    => x.SetContent(x.config));\r\n            this.state = BoardState.Display;\r\n           
    this.UpdateState();\r\n        });\r\n        // Disable default handlers\r\n       
    this.popup.actionButton.OnClick.RemoveAllListeners();\r\n        this.popup.actionButton.OnClick.AddListener(()
    => {\r\n            // Validation\r\n            const validator = this.items.slice();\r\n           
    validator.sort((x, y) => {\r\n                return y.AmountValue - x.AmountValue;\r\n           
    });\r\n            for (let i = 0; i < validator.length - 1; i++)\r\n               
    if (validator[i].AmountValue == validator[i + 1].AmountValue) {\r\n                   
    ZEPETO_World_Gui_1.ZepetoToast.Show(ZEPETO_World_Gui_ZepetoToast_1.Type.Warning,
    \"Donation values must be unique\");\r\n                    return;\r\n               
    }\r\n            this.settings.actions = [];\r\n            this.items.forEach(x
    => x.GetContent());\r\n            this.items.sort((x, y) => {\r\n               
    return y.config.amount - x.config.amount;\r\n            });\r\n            for
    (let i = 0; i < this.items.length; i++) {\r\n                let item = this.items[i];\r\n               
    item.transform.SetSiblingIndex(i);\r\n                this.settings.actions.push(item.GetContent());\r\n           
    }\r\n            // Update the changes in controller\r\n            DonationManager_1.default.instance.settings
    = this.settings;\r\n            this.state = BoardState.Display;\r\n           
    this.UpdateState();\r\n        });\r\n        this.UpdateState();\r\n       
    this.StartCoroutine(this.LazyInit());\r\n    }\r\n    *LazyInit() {\r\n       
    yield new UnityEngine_1.WaitForSeconds(1);\r\n        this.Initialize();\r\n   
    }\r\n    Initialize() {\r\n        this.settings = DonationManager_1.default.instance.settings;\r\n       
    // var ids = [\"DN_TOAST\"/*, \"DN_CHECKPOINT\", \"DN_ACTION_2\", \"DN_ACTION_3\",
    \"DN_ACTION_4\", \"DN_TELEPORT_1\"*/];\r\n        //\r\n        // for (let id
    of ids) {\r\n        //\r\n        //     const config = new  DonationActionSettings(id,
    10, id);\r\n        //     this.settings.actions.push(config);\r\n        //\r\n       
    //     let instance = Object.Instantiate(this.itemPrefab, this.popup.content)
    as GameObject;\r\n        //\r\n        //     const item = instance.GetComponent<DonationBoardContentItem>();\r\n       
    //     item.SetContent(config);\r\n        //     this.items.push(item);\r\n       
    //     instance.SetActive(true);\r\n        // }\r\n        for (const config
    of this.settings.actions) {\r\n            let instance = UnityEngine_1.Object.Instantiate(this.itemPrefab,
    this.popup.content);\r\n            const item = instance.GetComponent($typeof(DonationBoardContentItem_1.default));\r\n           
    item.SetContent(config);\r\n            this.items.push(item);\r\n           
    instance.SetActive(true);\r\n        }\r\n    }\r\n    UpdateState() {\r\n       
    if (this.state == BoardState.Display) {\r\n            this.popup.header.gameObject.SetActive(false);\r\n           
    this.popup.footer.gameObject.SetActive(false);\r\n            this.gridLayout.constraintCount
    = 2;\r\n            this.gridLayout.cellSize = new UnityEngine_1.Vector2(220,
    30);\r\n            this.items.forEach(x => x.SetEditMode(false));\r\n       
    }\r\n        else if (this.state == BoardState.Edit) {\r\n            this.popup.header.gameObject.SetActive(true);\r\n           
    this.popup.footer.gameObject.SetActive(true);\r\n            this.gridLayout.cellSize
    = new UnityEngine_1.Vector2(320, 30);\r\n            this.gridLayout.constraintCount
    = 1;\r\n            this.items.forEach(x => x.SetEditMode(true));\r\n       
    }\r\n    }\r\n}\r\nexports.default = DonationControlBoard;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9uYXRpb25Db250cm9sQm9hcmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJEb25hdGlvbkNvbnRyb2xCb2FyZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpREFBOEU7QUFDOUUsNkNBQXFGO0FBRXJGLHVEQUFnRDtBQUNoRCx5RUFBa0U7QUFLbEUsc0RBQStDO0FBQy9DLG1EQUE2RDtBQUc3RCxpQkFBaUI7QUFDakIsdURBQTZDO0FBQzdDLCtFQUFrRDtBQUVsRCxJQUFZLFVBR1g7QUFIRCxXQUFZLFVBQVU7SUFDbEIsaURBQU8sQ0FBQTtJQUNQLDJDQUFJLENBQUE7QUFDUixDQUFDLEVBSFcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUFHckI7QUFFRDs7R0FFRztBQUNILE1BQXFCLG9CQUFxQixTQUFRLHFDQUFxQjtJQUF2RTs7UUFFVyxVQUFLLEdBQWUsVUFBVSxDQUFDLE9BQU8sQ0FBQztRQWtCdEMsVUFBSyxHQUErQixFQUFFLENBQUM7SUFxSW5ELENBQUM7SUFsSlUsU0FBUyxLQUFJLENBQUM7SUFFZCxRQUFRLEtBQUksQ0FBQztJQUViLFdBQVcsS0FBSSxDQUFDO0lBRWhCLGNBQWMsS0FBSSxDQUFDO0lBU25CLElBQUk7UUFFUCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksVUFBVSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBRTFDLElBQUksQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztRQUM3QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVNLElBQUk7UUFDUCx1QkFBdUI7SUFDM0IsQ0FBQztJQUVELEtBQUs7UUFDRCx5QkFBZSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBRXRDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixTQUFDLGlCQUFPLEVBQUcsQ0FBQztRQUNwRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FB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","assetPath":"Assets/BuilditTemplate/Modules/Donation/Scripts/DonationControlBoard.ts","manifest":{"properties":[{"assembly":"","name":"state","type":"BoardState","isArray":false,"initValue":["Display"],"enumKeys":["Display","Edit"],"enumValues":["0","1"],"attributes":[]},{"assembly":"","name":"settings","type":"/Users/Mario/Development/NaverZ/zepeto_buildit_template/Assets/BuilditTemplate/Modules/Donation/Scripts/Types.DonationSettings","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"itemPrefab","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"DonationControlBoard","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: da8d857edcf5cf5755f2e9d0ec5244d1
  onlyWriteTrigger: 0
